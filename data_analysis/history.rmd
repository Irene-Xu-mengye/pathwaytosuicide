---
title: "History of SITB"
author: "Irene Xu"
date: "Last updated: `r Sys.Date()`"
output:
  html_document:
    theme: yeti
    code_folding: hide
    toc: true
    toc_depth: 5
    toc_float:
      collapsed: true
      smooth_scroll: true
---
<br/>

**Study: Suicide Trajectory**    

The goal of this file is to create a table that compares each group's history of SITB.

<br/>
<br/>
```{r setup, include = FALSE, message=FALSE, warning=FALSE}
library(tidyverse)
library(gtsummary)
library(gt)
source("helper_functions/apa_table_formatter.R")
knitr::opts_chunk$set(message = FALSE, warning = FALSE)
alldata <- read_csv("../data/psai_processed_100421.csv")
```

```{r eval=FALSE}
history <- alldata %>%
  select(group, 
         ever_nssi, 
         ever_aborted, aborted_num, aborted_first_age, aborted_first_time, aborted_first_timeunit, aborted_recent_age)
```


```{r}
bin_labels = c("<1 Min", "5 Min", "15 Min", "30 Min",
               "1 Hr", "2 Hrs", "3 Hrs", "6 Hrs", "12 Hrs", 
               "1 Day", "3 Days",
               "1 Wk", "2 Wks", 
               "1 Month", "6 Months",
               "1 Yr", "5 Yrs", ">5 Yrs")

bin_values = 1:18
bin_ref <- data.frame(bin_labels, bin_values)

reset_gtsummary_theme()
theme_gtsummary_compact()
t3 <- bin_ref %>% 
  tbl_summary(label = list(
           bin_labels ~ "Time Intervals",
           bin_values ~ "Binned Values")) %>%
  bold_labels() %>% 
  as_gt() %>%
  apa_table_formatter("Time Intervals and Corresponding Binned Values", 40)

gt::gtsave(t3, "table3_bin_ref.png", "../tables/")
```



