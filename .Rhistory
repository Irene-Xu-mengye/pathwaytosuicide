cor <- cor %>%
cols_width(everything() ~ px(80)) %>%
tab_options(table.font.size = 14
)
gtsave(cor, "cor_matrix.png", "../tables/")
tt <- alldata %>%
select(think_bin, mull_bin, dec_bin, firstmethod_bin, suremethod_bin, firstplace_bin, sureplace_bin,
thoughts_amt, thoughts_want, thoughts_not_want, thoughts_net,
prep_total)
tt <- tt %>%
select("SI Onset" = think_bin,
"Start to Mull" = mull_bin,
"Decide to Attempt" = dec_bin,
"Start to Consider Method" = firstmethod_bin,
"Decide on Method" = suremethod_bin,
"Start to Consider Place" = firstplace_bin,
"Decide on Place" = sureplace_bin,
"Thoughts Towards Attempt" = thoughts_want,
"Thoughts Against Attempt" = thoughts_not_want,
"All Thoughts" = thoughts_amt,
"Counter- balanced Thoughts" = thoughts_net)
cor <- datasummary_correlation(tt, output = "gt", align = "llllllllllll")
cor <- cor %>%
cols_width(everything() ~ px(80)) %>%
tab_options(table.font.size = 14
)
gtsave(cor, "cor_matrix.png", "../tables/")
cor <- datasummary_correlation(tt, output = "gt", align = "llllllllllll")
cor <- cor %>%
cols_width(everything() ~ px(80)) %>%
tab_options(table.font.size = 14,row_group.padding = px(1),
)
gtsave(cor, "cor_matrix.png", "../tables/")
cor <- datasummary_correlation(tt, output = "gt", align = "llllllllllll")
cor <- cor %>%
cols_width(everything() ~ px(80)) %>%
tab_options(table.font.size = 14,
row_group.border.top.width = 2,
)
gtsave(cor, "cor_matrix.png", "../tables/")
cor <- datasummary_correlation(tt, output = "gt", align = "llllllllllll")
cor <- cor %>%
cols_width(everything() ~ px(80)) %>%
tab_options(table.font.size = 14,
row_group.border.top.width = 10,
)
gtsave(cor, "cor_matrix.png", "../tables/")
cor <- datasummary_correlation(tt, output = "gt", align = "llllllllllll")
cor <- cor %>%
cols_width(everything() ~ px(80)) %>%
tab_options(table.font.size = 14,
row_group.border.top.width = px(3),
)
gtsave(cor, "cor_matrix.png", "../tables/")
cor <- datasummary_correlation(tt, output = "gt", align = "llllllllllll")
cor <- cor %>%
cols_width(everything() ~ px(80)) %>%
tab_options(table.font.size = 14,
row_group.border.top.width = px(30),
)
gtsave(cor, "cor_matrix.png", "../tables/")
cor <- datasummary_correlation(tt, output = "gt", align = "llllllllllll")
cor <- cor %>%
cols_width(everything() ~ px(80)) %>%
tab_options(table.font.size = 14,  row_group.border.right.color = "red"
)
gtsave(cor, "cor_matrix.png", "../tables/")
cor <- datasummary_correlation(tt, output = "gt", align = "llllllllllll")
cor <- cor %>%
cols_width(everything() ~ px(80)) %>%
tab_options(table.font.size = 14,
summary_row.border.width = 10
)
gtsave(cor, "cor_matrix.png", "../tables/")
View(tt)
str(tt)
cor <- datasummary_correlation(tt, output = "gt", align = "llllllllllll")
cor <- cor %>%
cols_width(everything() ~ px(80)) %>%
tab_options(table.font.size = 14) %>%
cols_label("SI Onset" = "1")
gtsave(cor, "cor_matrix.png", "../tables/")
cor <- datasummary_correlation(tt, output = "gt", align = "llllllllllll")
cor <- cor %>%
cols_width(everything() ~ px(60)) %>%
tab_options(table.font.size = 14) %>%
cols_label("1. SI Onset" = "1",
"2. Start to Mull" = "2",
"3. Decide to Attempt" = "3",
"4. Start to Consider Method" = "4",
"5. Decide on Method" = "5",
"6. Start to Consider Place" = "6",
"7. Decide on Place" = "7",
"8. Thoughts Towards Attempt" = "8",
"9. Thoughts Against Attempt" = "9",
"10. All Thoughts" = "10",
"11. Counterbalanced Thoughts" = "11")
tt <- alldata %>%
select(think_bin, mull_bin, dec_bin, firstmethod_bin, suremethod_bin, firstplace_bin, sureplace_bin,
thoughts_amt, thoughts_want, thoughts_not_want, thoughts_net,
prep_total)
tt <- tt %>%
select("1. SI Onset" = think_bin,
"2. Start to Mull" = mull_bin,
"3. Decide to Attempt" = dec_bin,
"4. Start to Consider Method" = firstmethod_bin,
"5. Decide on Method" = suremethod_bin,
"6. Start to Consider Place" = firstplace_bin,
"7. Decide on Place" = sureplace_bin,
"8. Thoughts Towards Attempt" = thoughts_want,
"9. Thoughts Against Attempt" = thoughts_not_want,
"10. All Thoughts" = thoughts_amt,
"11. Counterbalanced Thoughts" = thoughts_net)
cor <- datasummary_correlation(tt, output = "gt", align = "llllllllllll")
cor <- cor %>%
cols_width(everything() ~ px(60)) %>%
tab_options(table.font.size = 14) %>%
cols_label("1. SI Onset" = "1",
"2. Start to Mull" = "2",
"3. Decide to Attempt" = "3",
"4. Start to Consider Method" = "4",
"5. Decide on Method" = "5",
"6. Start to Consider Place" = "6",
"7. Decide on Place" = "7",
"8. Thoughts Towards Attempt" = "8",
"9. Thoughts Against Attempt" = "9",
"10. All Thoughts" = "10",
"11. Counterbalanced Thoughts" = "11")
gtsave(cor, "cor_matrix.png", "../tables/")
cor <- datasummary_correlation(tt, output = "gt", align = "llllllllllll")
cor <- cor %>%
cols_width(everything() ~ px(60)) %>%
tab_options(table.font.size = 14) %>%
cols_width("1. SI Onset" ~ px(50),
"2. Start to Mull" ~ px(50),
"3. Decide to Attempt" ~ px(50),
"4. Start to Consider Method" ~ px(50),
"5. Decide on Method" ~ px(50),
"6. Start to Consider Place" ~ px(50),
"7. Decide on Place" ~ px(50),
"8. Thoughts Towards Attempt" ~ px(50),
"9. Thoughts Against Attempt" ~ px(50),
"10. All Thoughts" ~ px(50),
"11. Counterbalanced Thoughts" ~ px(50),
everything() ~ px(100)) %>%
cols_label("1. SI Onset" = "1",
"2. Start to Mull" = "2",
"3. Decide to Attempt" = "3",
"4. Start to Consider Method" = "4",
"5. Decide on Method" = "5",
"6. Start to Consider Place" = "6",
"7. Decide on Place" = "7",
"8. Thoughts Towards Attempt" = "8",
"9. Thoughts Against Attempt" = "9",
"10. All Thoughts" = "10",
"11. Counterbalanced Thoughts" = "11")
gtsave(cor, "cor_matrix.png", "../tables/")
cor <- datasummary_correlation(tt, output = "gt", align = "llllllllllll")
cor <- cor %>%
cols_width(everything() ~ px(60)) %>%
tab_options(table.font.size = 14) %>%
cols_width("1. SI Onset" ~ px(50),
"2. Start to Mull" ~ px(50),
"3. Decide to Attempt" ~ px(50),
"4. Start to Consider Method" ~ px(50),
"5. Decide on Method" ~ px(50),
"6. Start to Consider Place" ~ px(50),
"7. Decide on Place" ~ px(50),
"8. Thoughts Towards Attempt" ~ px(50),
"9. Thoughts Against Attempt" ~ px(50),
"10. All Thoughts" ~ px(50),
"11. Counterbalanced Thoughts" ~ px(50),
everything() ~ px(180)) %>%
cols_label("1. SI Onset" = "1",
"2. Start to Mull" = "2",
"3. Decide to Attempt" = "3",
"4. Start to Consider Method" = "4",
"5. Decide on Method" = "5",
"6. Start to Consider Place" = "6",
"7. Decide on Place" = "7",
"8. Thoughts Towards Attempt" = "8",
"9. Thoughts Against Attempt" = "9",
"10. All Thoughts" = "10",
"11. Counterbalanced Thoughts" = "11")
gtsave(cor, "cor_matrix.png", "../tables/")
View(apa_table_formatter)
cor <- datasummary_correlation(tt, output = "gt", align = "llllllllllll")
cor <- cor %>%
cols_width(everything() ~ px(60)) %>%
tab_options(table.font.size = 14) %>%
cols_width("1. SI Onset" ~ px(50),
"2. Start to Mull" ~ px(50),
"3. Decide to Attempt" ~ px(50),
"4. Start to Consider Method" ~ px(50),
"5. Decide on Method" ~ px(50),
"6. Start to Consider Place" ~ px(50),
"7. Decide on Place" ~ px(50),
"8. Thoughts Towards Attempt" ~ px(50),
"9. Thoughts Against Attempt" ~ px(50),
"10. All Thoughts" ~ px(50),
"11. Counterbalanced Thoughts" ~ px(50),
everything() ~ px(180)) %>%
cols_label("1. SI Onset" = "1",
"2. Start to Mull" = "2",
"3. Decide to Attempt" = "3",
"4. Start to Consider Method" = "4",
"5. Decide on Method" = "5",
"6. Start to Consider Place" = "6",
"7. Decide on Place" = "7",
"8. Thoughts Towards Attempt" = "8",
"9. Thoughts Against Attempt" = "9",
"10. All Thoughts" = "10",
"11. Counterbalanced Thoughts" = "11") %>%
apa_table_formatter("", 80)
gtsave(cor, "cor_matrix.png", "../tables/")
cor <- datasummary_correlation(tt, output = "gt", align = "llllllllllll")
msummary(cor, stars = TRUE)
cor <- datasummary_correlation(tt, output = "gt", align = "llllllllllll") %>%
datasummary_correlation_format(upper_triangle = "", diagonal = NULL)
cor <- cor %>%
cols_width(everything() ~ px(60)) %>%
tab_options(table.font.size = 14) %>%
cols_width("1. SI Onset" ~ px(50),
"2. Start to Mull" ~ px(50),
"3. Decide to Attempt" ~ px(50),
"4. Start to Consider Method" ~ px(50),
"5. Decide on Method" ~ px(50),
"6. Start to Consider Place" ~ px(50),
"7. Decide on Place" ~ px(50),
"8. Thoughts Towards Attempt" ~ px(50),
"9. Thoughts Against Attempt" ~ px(50),
"10. All Thoughts" ~ px(50),
"11. Counterbalanced Thoughts" ~ px(50),
everything() ~ px(180)) %>%
cols_label("1. SI Onset" = "1",
"2. Start to Mull" = "2",
"3. Decide to Attempt" = "3",
"4. Start to Consider Method" = "4",
"5. Decide on Method" = "5",
"6. Start to Consider Place" = "6",
"7. Decide on Place" = "7",
"8. Thoughts Towards Attempt" = "8",
"9. Thoughts Against Attempt" = "9",
"10. All Thoughts" = "10",
"11. Counterbalanced Thoughts" = "11") %>%
apa_table_formatter("", 80)
cor(tt$`1. SI Onset`, tt$`11. Counterbalanced Thoughts`)
cor(tt)
cor(tt,use="complete.obs")
View(cor)
matrix <- cor(tt,use="complete.obs")
View(matrix)
typeof(matrix)
library("Hmisc")
cor_2 <- rcorr(as.matrix(my_data))
cor_2 <- rcorr(as.matrix(tt))
cor_2
cor_2$P
View(cor_2)
library(tidyverse)
library(gtsummary)
library(gt)
library(modelsummary)
source("helper_functions/apa_table_formatter.R")
knitr::opts_chunk$set(message = FALSE, warning = FALSE)
alldata <- read_csv("../data/psai_processed_100421.csv")
View(alldata)
at <- alldata %>% filter(group == "Actual Attempters")
at <- alldata %>% filter(group == "Attempters")
View(at)
ab <- alldata %>% filter(group != "Attempters")
View(ab)
View(apa_table_formatter)
history <- alldata %>%
select(group,
ever_nssi,
nssi_num,
nssi_first_age,
ever_aborted,
aborted_num,
aborted_first_age,
ever_int,
int_num,
int_first_age,
ever_at,
at_num,
at_first_age,
method_first_age,
lifetimeSI_onset,
lifetimeSI_mean,
lifetimeSI_duration,
lifetimeSI_range,
lifetimeSI_sd)
history_behavior <- history %>%
mutate(ever_nssi_f = ifelse(!is.na(ever_nssi),
ifelse(ever_nssi == 1, 1, 0), NA),
past_aborted_f = ifelse(!is.na(ever_aborted),
ifelse(ever_aborted > 1, 1, 0), NA),
past_int_f = ifelse(!is.na(ever_int),
ifelse(int_num > 1, 1, 0), NA),
int_num = ifelse(int_num == "10-May", 1, int_num),
int_num = as.numeric(int_num),
at_num = as.numeric(at_num)) %>%
select(group,
ever_nssi_f,
past_aborted_f,
past_int_f,
nssi_num,
aborted_num,
int_num,
at_num,
nssi_first_age,
aborted_first_age,
int_first_age,
at_first_age)
View(history_behavior)
history_behavior <- history %>%
mutate(ever_nssi_f = ifelse(!is.na(ever_nssi),
ifelse(ever_nssi == 1, 1, 0), NA),
past_aborted_f = ifelse(!is.na(ever_aborted),
ifelse(group != "Attempter",
ifelse(aborted_num > 1, 1, 0), ifelse(ever_aborted == 1, 1, 0))),
past_int_f = ifelse(!is.na(ever_int),
ifelse(int_num > 1, 1, 0), NA),
int_num = ifelse(int_num == "10-May", 1, int_num),
int_num = as.numeric(int_num),
at_num = as.numeric(at_num)) %>%
select(group,
ever_nssi_f,
past_aborted_f,
past_int_f,
nssi_num,
aborted_num,
int_num,
at_num,
nssi_first_age,
aborted_first_age,
int_first_age,
at_first_age)
history <- alldata %>%
select(group,
ever_nssi,
nssi_num,
nssi_first_age,
ever_aborted,
aborted_num,
aborted_first_age,
ever_int,
int_num,
int_first_age,
ever_at,
at_num,
at_first_age,
method_first_age,
lifetimeSI_onset,
lifetimeSI_mean,
lifetimeSI_duration,
lifetimeSI_range,
lifetimeSI_sd)
history_behavior <- history %>%
mutate(ever_nssi_f = ifelse(!is.na(ever_nssi),
ifelse(ever_nssi == 1, 1, 0), NA),
past_aborted_f = ifelse(!is.na(ever_aborted),
ifelse(group != "Attempter",
ifelse(aborted_num > 1, 1, 0), ifelse(ever_aborted == 1, 1, 0))),
past_int_f = ifelse(!is.na(ever_int),
ifelse(int_num > 1, 1, 0), NA),
int_num = ifelse(int_num == "10-May", 1, int_num),
int_num = as.numeric(int_num),
at_num = as.numeric(at_num)) %>%
select(group,
ever_nssi_f,
past_aborted_f,
past_int_f,
nssi_num,
aborted_num,
int_num,
at_num,
nssi_first_age,
aborted_first_age,
int_first_age,
at_first_age)
history_behavior <- history %>%
mutate(ever_nssi_f = ifelse(!is.na(ever_nssi),
ifelse(ever_nssi == 1, 1, 0), NA),
past_aborted_f = ifelse(!is.na(ever_aborted),
ifelse(group != "Attempter",
ifelse(aborted_num > 1, 1, 0), ifelse(ever_aborted == 1, 1, 0)), NA),
past_int_f = ifelse(!is.na(ever_int),
ifelse(int_num > 1, 1, 0), NA),
int_num = ifelse(int_num == "10-May", 1, int_num),
int_num = as.numeric(int_num),
at_num = as.numeric(at_num)) %>%
select(group,
ever_nssi_f,
past_aborted_f,
past_int_f,
nssi_num,
aborted_num,
int_num,
at_num,
nssi_first_age,
aborted_first_age,
int_first_age,
at_first_age)
View(history_behavior)
history <- alldata %>%
select(group,
ever_nssi,
nssi_num,
nssi_first_age,
ever_aborted,
aborted_num,
aborted_first_age,
ever_int,
int_num,
int_first_age,
ever_at,
at_num,
at_first_age,
method_first_age,
lifetimeSI_onset,
lifetimeSI_mean,
lifetimeSI_duration,
lifetimeSI_range,
lifetimeSI_sd)
history_ideation <- history %>%
select(group,
lifetimeSI_onset,
lifetimeSI_mean,
lifetimeSI_sd,
lifetimeSI_range,
lifetimeSI_duration)
View(history_behavior)
history_behavior <- history %>%
mutate(ever_nssi_f = ifelse(!is.na(ever_nssi),
ifelse(ever_nssi == 1, 1, 0), NA),
ever_aborted = ifelse(!is.na(ever_aborted),
ifelse(ever_aborted == 1, 1, 0), NA),
ever_int = ifelse(!is.na(ever_int),
ifelse(ever_int == 1, 1, 0), NA),
int_num = ifelse(int_num == "10-May", 1, int_num),
int_num = as.numeric(int_num),
at_num = as.numeric(at_num)) %>%
select(group,
ever_nssi_f,
ever_aborted_f,
ever_int_f,
nssi_num,
aborted_num,
int_num,
at_num,
nssi_first_age,
aborted_first_age,
int_first_age,
at_first_age)
history_behavior <- history %>%
mutate(ever_nssi_f = ifelse(!is.na(ever_nssi),
ifelse(ever_nssi == 1, 1, 0), NA),
ever_aborted = ifelse(!is.na(ever_aborted),
ifelse(ever_aborted == 1, 1, 0), NA),
ever_int = ifelse(!is.na(ever_int),
ifelse(ever_int == 1, 1, 0), NA),
int_num = ifelse(int_num == "10-May", 1, int_num),
int_num = as.numeric(int_num),
at_num = as.numeric(at_num)) %>%
select(group,
ever_nssi_f,
ever_aborted,
ever_int,
nssi_num,
aborted_num,
int_num,
at_num,
nssi_first_age,
aborted_first_age,
int_first_age,
at_first_age)
history_behavior <- history_behavior %>%
mutate(aborted_past = ifelse(group == "Aborted/Interrupted Attempters",
ifelse(aborted_num > 1, 1, ever_aborted)))
history_behavior <- history_behavior %>%
mutate(aborted_past = ifelse(group == "Aborted/Interrupted Attempters",
ifelse(aborted_num > 1, 1, 0), ever_aborted))
View(history_behavior)
history_behavior <- history %>%
mutate(ever_nssi_f = ifelse(!is.na(ever_nssi),
ifelse(ever_nssi == 1, 1, 0), NA),
ever_aborted = ifelse(!is.na(ever_aborted),
ifelse(ever_aborted == 1, 1, 0), NA),
ever_int = ifelse(!is.na(ever_int),
ifelse(ever_int == 1, 1, 0), NA),
int_num = ifelse(int_num == "10-May", 1, int_num),
int_num = as.numeric(int_num),
at_num = as.numeric(at_num)) %>%
select(group,
ever_nssi_f,
ever_aborted,
ever_int,
nssi_num,
aborted_num,
int_num,
at_num,
nssi_first_age,
aborted_first_age,
int_first_age,
at_first_age)
history_behavior <- history_behavior %>%
mutate(aborted_past = ifelse(group == "Aborted/Interrupted Attempters",
ifelse(aborted_num > 1, 1, 0), ever_aborted),
int_past = ifelse(group == "Aborted/Interrupted Attempters",
ifelse(int_num > 1, 1, 0), ever_int))
